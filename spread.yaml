
project: pebble

environment:
    SUITE_DIR: "${SPREAD_PATH}/${SPREAD_SUITE}."
    TASK_DIR: "${SPREAD_PATH}/${SPREAD_TASK}"

backends:
    lxd:
        systems: [ubuntu-22.04]

        prepare: |
            ${SPREAD_PATH}/spread-tests/install_go.sh
            ${SPREAD_PATH}/spread-tests/install_gcc.sh

suites:
    spread-tests/integration/:
        summary: Integration tests

        prepare-each: |
            ${SUITE_DIR}/start_pebble.sh

        restore-each: |
            ${SUITE_DIR}/stop_pebble.sh

    spread-tests/unit/:
        summary: Unit tests


path: /pebble-spread-test

